<phone:PhoneApplicationPage xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                            xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
                            xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
                            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                            xmlns:System="clr-namespace:System;assembly=mscorlib" x:Name="phoneApplicationPage"
                            x:Class="Vine.Pages.Camera.CameraPage" mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="480"
                            SupportedOrientations="PortraitOrLandscape" Orientation="Portrait" shell:SystemTray.Opacity="0"
                            shell:SystemTray.ForegroundColor="#fffffe">
    <phone:PhoneApplicationPage.Resources>
     
        <Storyboard x:Name="StoryboardStart">
            <DoubleAnimation Duration="0:0:0.8" To="0"
                             Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="border"
                             d:IsOptimized="True">
                <DoubleAnimation.EasingFunction>
                    <CircleEase EasingMode="EaseOut" />
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Duration="0:0:1.2" To="0"
                             Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="border1"
                             d:IsOptimized="True">
                <DoubleAnimation.EasingFunction>
                    <CircleEase EasingMode="EaseOut" />
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Duration="0:0:3.2" To="1" Storyboard.TargetProperty="(UIElement.Opacity)"
                             Storyboard.TargetName="border1" d:IsOptimized="True">
                <DoubleAnimation.EasingFunction>
                    <CircleEase EasingMode="EaseOut" />
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Duration="0:0:2.8" To="1" Storyboard.TargetProperty="(UIElement.Opacity)"
                             Storyboard.TargetName="border" d:IsOptimized="True">
                <DoubleAnimation.EasingFunction>
                    <CircleEase EasingMode="EaseOut" />
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>

        </Storyboard>
        <Storyboard x:Name="StoryboardStartHidePanel">
            <DoubleAnimation Duration="0:0:0.5" To="0" Storyboard.TargetProperty="(UIElement.Opacity)"
                             Storyboard.TargetName="border" d:IsOptimized="True" />
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)"
                                           Storyboard.TargetName="border1">
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:1.1" Value="0" />
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames
                Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="Hand">
                <EasingDoubleKeyFrame KeyTime="0:0:1.2" Value="-140" />
                <EasingDoubleKeyFrame KeyTime="0:0:2.2" Value="190">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CircleEase EasingMode="EaseOut" />
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)"
                                           Storyboard.TargetName="ellipse">
                <EasingDoubleKeyFrame KeyTime="0:0:2.2" Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:2.5" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:5.1" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:5.4" Value="0" />
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)"
                                           Storyboard.TargetName="ellipse1">
                <EasingDoubleKeyFrame KeyTime="0:0:2.4" Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:2.7" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:4.9" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:5.2" Value="0" />
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)"
                                           Storyboard.TargetName="HintPanel">
                <EasingDoubleKeyFrame KeyTime="0:0:3" Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:3.4" Value="1">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CircleEase EasingMode="EaseOut" />
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)"
                                           Storyboard.TargetName="TutoWelcomePanel">
                <EasingDoubleKeyFrame KeyTime="0:0:1.4" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:2" Value="0">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <CircleEase EasingMode="EaseOut" />
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                           Storyboard.TargetName="TutoWelcomePanel">
                <DiscreteObjectKeyFrame KeyTime="0:0:2">
                    <DiscreteObjectKeyFrame.Value>
                        <Visibility>Visible</Visibility>
                    </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
                <DiscreteObjectKeyFrame KeyTime="0:0:2.8">
                    <DiscreteObjectKeyFrame.Value>
                        <Visibility>Collapsed</Visibility>
                    </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
            </ObjectAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Name="StoryboardPressAction" AutoReverse="False" RepeatBehavior="Forever">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)"
                                           Storyboard.TargetName="ellipse">
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.8" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:1" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:1.4" Value="0" />
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)"
                                           Storyboard.TargetName="ellipse1">
                <EasingDoubleKeyFrame KeyTime="0:0:0.1" Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.6" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:1.2" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:1.7" Value="0" />
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>


   
        <Style x:Key="PhoneButtonBase" TargetType="ButtonBase">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderBrush" Value="{StaticResource PhoneForegroundBrush}" />
            <Setter Property="Foreground" Value="{StaticResource PhoneForegroundBrush}" />
            <Setter Property="BorderThickness" Value="{StaticResource PhoneBorderThickness}" />
            <Setter Property="FontFamily" Value="{StaticResource PhoneFontFamilySemiBold}" />
            <Setter Property="FontSize" Value="{StaticResource PhoneFontSizeMedium}" />
            <Setter Property="Padding" Value="10,5,10,6" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ButtonBase">
                        <Grid Background="Transparent">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver" />
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground"
                                                                           Storyboard.TargetName="ContentContainer">
                                                <DiscreteObjectKeyFrame KeyTime="0"
                                                                        Value="{StaticResource PhoneButtonBasePressedForegroundBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background"
                                                                           Storyboard.TargetName="ButtonBackground">
                                                <DiscreteObjectKeyFrame KeyTime="0"
                                                                        Value="{StaticResource PhoneAccentBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Disabled">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground"
                                                                           Storyboard.TargetName="ContentContainer">
                                                <DiscreteObjectKeyFrame KeyTime="0"
                                                                        Value="{StaticResource PhoneDisabledBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush"
                                                                           Storyboard.TargetName="ButtonBackground">
                                                <DiscreteObjectKeyFrame KeyTime="0"
                                                                        Value="{StaticResource PhoneDisabledBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background"
                                                                           Storyboard.TargetName="ButtonBackground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="Transparent" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Border x:Name="ButtonBackground" BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" CornerRadius="0"
                                    Margin="{StaticResource PhoneTouchTargetOverhang}">
                                <ContentControl x:Name="ContentContainer"
                                                ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}"
                                                Foreground="{TemplateBinding Foreground}" HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                Padding="{TemplateBinding Padding}" VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" />
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ToggleButtonStyle1" BasedOn="{StaticResource PhoneButtonBase}" TargetType="ToggleButton">
            <Setter Property="Padding" Value="8" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid Background="Transparent">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="Disabled">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility"
                                                                           Storyboard.TargetName="EnabledBackground">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Collapsed</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="CheckStates">
                                    <VisualState x:Name="Unchecked" />
                                    <VisualState x:Name="Checked">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background"
                                                                           Storyboard.TargetName="EnabledBackground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PrincBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground"
                                                                           Storyboard.TargetName="EnabledContent">
                                                <DiscreteObjectKeyFrame KeyTime="0"
                                                                        Value="{StaticResource PhoneButtonBasePressedForegroundBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames
                                                Storyboard.TargetProperty="(ContentControl.Content)" Storyboard.TargetName="EnabledContent">
                                                <DiscreteObjectKeyFrame KeyTime="0"
                                                                        Value="{Binding LocalizedResources.TurnOffTorch, Source={StaticResource LocalizedStrings}}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Border x:Name="EnabledBackground" BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}"
                                    Margin="{StaticResource PhoneTouchTargetOverhang}">
                                <ContentControl x:Name="EnabledContent"
                                                ContentTemplate="{TemplateBinding ContentTemplate}" Foreground="{TemplateBinding Foreground}"
                                                HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" Margin="6,5,6,6"
                                                Content="{Binding LocalizedResources.TurnOnTorch, Source={StaticResource LocalizedStrings}}" />
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="FocusToggleButtonStyle" BasedOn="{StaticResource PhoneButtonBase}" TargetType="ToggleButton">
            <Setter Property="Padding" Value="8" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid Background="Transparent">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="Disabled">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility"
                                                                           Storyboard.TargetName="EnabledBackground">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Collapsed</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="CheckStates">
                                    <VisualState x:Name="Unchecked" />
                                    <VisualState x:Name="Checked">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background"
                                                                           Storyboard.TargetName="EnabledBackground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PrincBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground"
                                                                           Storyboard.TargetName="EnabledContent">
                                                <DiscreteObjectKeyFrame KeyTime="0"
                                                                        Value="{StaticResource PhoneButtonBasePressedForegroundBrush}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Content"
                                                                           Storyboard.TargetName="EnabledContent">
                                                <DiscreteObjectKeyFrame KeyTime="0"
                                                                        Value="{Binding LocalizedResources.ChangeFocus, Source={StaticResource LocalizedStrings}}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Border x:Name="EnabledBackground" BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}"
                                    Margin="{StaticResource PhoneTouchTargetOverhang}">
                                <ContentControl x:Name="EnabledContent"
                                                ContentTemplate="{TemplateBinding ContentTemplate}" Foreground="{TemplateBinding Foreground}"
                                                HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" Margin="6,5,6,6"
                                                Content="{Binding LocalizedResources.SetFocus, Source={StaticResource LocalizedStrings}}" />
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Storyboard x:Name="StoryboardFocusAnim">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)"
                                           Storyboard.TargetName="FocusZone">
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0.5" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:1" Value="0" />
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
    </phone:PhoneApplicationPage.Resources>
    <phone:PhoneApplicationPage.FontFamily>
        <StaticResource ResourceKey="PhoneFontFamilyNormal" />
    </phone:PhoneApplicationPage.FontFamily>
    <phone:PhoneApplicationPage.FontSize>
        <StaticResource ResourceKey="PhoneFontSizeNormal" />
    </phone:PhoneApplicationPage.FontSize>
    <phone:PhoneApplicationPage.Foreground>
        <StaticResource ResourceKey="PhoneForegroundBrush" />
    </phone:PhoneApplicationPage.Foreground>
    <phone:PhoneApplicationPage.ApplicationBar>
        <shell:ApplicationBar ForegroundColor="White" BackgroundColor="{StaticResource PrincColor}">
            <shell:ApplicationBarIconButton IconUri="/Assets/AppBar/BackCamera.png" IsEnabled="True"
                                            Text="front camera" Click="ApplicationBarSwitchIconButton_Click" />
            <shell:ApplicationBarIconButton Click="Torch_Click" IconUri="/Assets/AppBar/appbar.camera.flash.off.png"
                                            IsEnabled="True" Text="flash on" />
            <shell:ApplicationBarIconButton Click="AppBarFocus_Click" IconUri="/Assets/AppBar/focus.png"
                                            IsEnabled="True" Text="focus on" />
            <shell:ApplicationBarIconButton Click="AppBarGrid_Click" IconUri="/Assets/AppBar/grid.png" IsEnabled="True"
                                            Text="show grid" />
            <shell:ApplicationBar.MenuItems>
                <shell:ApplicationBarMenuItem Text="remove last part" Click="RemoveLastPart_Click" />
                <shell:ApplicationBarMenuItem Text="select a file..." Click="AppBarSelectFile_Click" />
            </shell:ApplicationBar.MenuItems>
        </shell:ApplicationBar>
    </phone:PhoneApplicationPage.ApplicationBar>

    <!--LayoutRoot is the root grid where all page content is placed-->
    <Grid x:Name="MainLayout" Background="{StaticResource NoDarkStripeBrush}">

        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="VisualStateGroup">
                <VisualState x:Name="Portrait">

                    <Storyboard>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.HorizontalAlignment)"
                                                       Storyboard.TargetName="PreviewPanel">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <HorizontalAlignment>Left</HorizontalAlignment>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                    </Storyboard>

                </VisualState>
                <VisualState x:Name="Landscape">
                    <Storyboard>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.Row)"
                                                       Storyboard.TargetName="PreviewPanel">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>0</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.RowSpan)"
                                                       Storyboard.TargetName="PreviewPanel">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>3</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.ColumnSpan)"
                                                       Storyboard.TargetName="PreviewPanel">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>1</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.Column)"
                                                       Storyboard.TargetName="PreviewPanel">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>1</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.Column)"
                                                       Storyboard.TargetName="CloseButton">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>2</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.RowSpan)"
                                                       Storyboard.TargetName="NextButton">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>1</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.Row)"
                                                       Storyboard.TargetName="NextButton">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>1</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.Margin)"
                                                       Storyboard.TargetName="CloseButton">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <Thickness>0,16,12,0</Thickness>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.Margin)"
                                                       Storyboard.TargetName="NextButton">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <Thickness>0,16,12,0</Thickness>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.RowSpan)"
                                                       Storyboard.TargetName="DonePanel">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>3</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.Column)"
                                                       Storyboard.TargetName="DonePanel">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>1</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.ColumnSpan)"
                                                       Storyboard.TargetName="DonePanel">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>2</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.Column)"
                                                       Storyboard.TargetName="NextButton">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>2</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.ColumnSpan)"
                                                       Storyboard.TargetName="NextButton">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>1</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.HorizontalAlignment)"
                                                       Storyboard.TargetName="NextButton">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <HorizontalAlignment>Right</HorizontalAlignment>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.Row)"
                                                       Storyboard.TargetName="DonePanel">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>0</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>

                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.HorizontalAlignment)"
                                                       Storyboard.TargetName="CloseButton">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <HorizontalAlignment>Right</HorizontalAlignment>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.ColumnSpan)"
                                                       Storyboard.TargetName="ProgressRect">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>1</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.RowSpan)"
                                                       Storyboard.TargetName="ProgressRect">
                            <DiscreteObjectKeyFrame KeyTime="0">
                                <DiscreteObjectKeyFrame.Value>
                                    <System:Int32>2</System:Int32>
                                </DiscreteObjectKeyFrame.Value>
                            </DiscreteObjectKeyFrame>
                        </ObjectAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        <Grid x:Name="LayoutRoot" Margin="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="90" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="90" />
                <RowDefinition Height="auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>


            <!--Camera viewfinder >-->


            <!--Camera viewfinder >-->

            <Grid x:Name="PreviewPanel" FlowDirection="LeftToRight" Background="Black" Height="480" Width="480"
                  VerticalAlignment="Top" Grid.Row="1" Grid.ColumnSpan="2" HorizontalAlignment="Left">
                <Rectangle x:Name="viewfinderRectangle" RenderTransformOrigin="0.5,0.5"></Rectangle>
                <Path IsHitTestVisible="False" x:Name="FocusZone" Margin="-63.5,-63.5,0,0"
                      Data="M39.5,126.5 L1.5,126.5 L1.5,86.5 M1.5,39.5 L1.5,1.5 L39.5,1.5 M87.5,1.5 L126.5,1.5 L126.5,39.5 M126.5,86.5 L126.5,126.5 L87.5,126.5"
                      Height="128" Stretch="Fill" Stroke="{StaticResource PrincBrush}" StrokeThickness="3" UseLayoutRounding="False"
                      VerticalAlignment="Top" HorizontalAlignment="Left" Width="128" Opacity="0" />
                <Path x:Name="GridViewport" Data="M160,1 L160,479 M320,1 L320,479 M1,160 L479,160 M1,320 L479,320"
                      Stretch="Fill" UseLayoutRounding="False" StrokeThickness="2" HorizontalAlignment="Left" Stroke="#7FFFFFFF" Width="480"
                      Visibility="Collapsed" />

            </Grid>


          <Rectangle x:Name="ProgressRect" Fill="{StaticResource PrincBrush}"
                             RenderTransformOrigin="0.5,0.5" Grid.ColumnSpan="2" CacheMode="BitmapCache">
              <Rectangle.RenderTransform>
                  <TranslateTransform X="-480"/>
              </Rectangle.RenderTransform>
              </Rectangle>
          
            <Grid x:Name="DonePanel" Visibility="Collapsed" Grid.RowSpan="2" Grid.Row="1" Grid.ColumnSpan="2"
                  d:IsHidden="True">
                <Rectangle Fill="#70000000" Opacity="0.9" d:IsLocked="True" />
                <Path FlowDirection="LeftToRight"
                      Data="M148.512,0 L174.134,23.8436 L55.5978,151.221 L55.5973,151.221 L55.5967,151.221 L0,99.4836 L23.8436,73.8617 L53.8188,101.756 z"
                      Fill="#FFF4F4F5" HorizontalAlignment="Center" Height="151.221" Stretch="Fill" UseLayoutRounding="False"
                      VerticalAlignment="Center" Margin="0,-45,0,0" Width="174.134" />
            </Grid>
            <Button x:Name="CloseButton" HorizontalAlignment="Left" Height="80" Margin="0,16,0,0" VerticalAlignment="Top"
                    Style="{StaticResource SimpleButtonStyle}"
                    Width="80" Click="Close_Click" Grid.RowSpan="2" Grid.ColumnSpan="2">
                <Path x:Name="ClosePath" Fill="White"
                      Data="M25.5,0 L30.5,0 L30.5,25.5 L56,25.5 L56,30.5 L30.5,30.5 L30.5,56 L25.5,56 L25.5,30.5 L0,30.5 L0,25.5 L25.5,25.5 z"
                      Margin="0" RenderTransformOrigin="0.5,0.5" Stretch="Fill" UseLayoutRounding="False" Width="50" Height="50">
                    <Path.RenderTransform>
                        <CompositeTransform Rotation="-45" />
                    </Path.RenderTransform>
                </Path>
            </Button>
            <Button x:Name="NextButton" IsEnabled="False" HorizontalAlignment="Right" Height="80" Margin="0,16,0,0"
                                  Style="{StaticResource SimpleButtonStyle}"
                  VerticalAlignment="Top" Width="80" Click="Next_Click" Grid.ColumnSpan="3">
                <Path x:Name="ClosePath1" Fill="White" UseLayoutRounding="False"
                      Data="M22.7677,0 L27.232,0 L27.232,24.2963 L27.232,27.75 L23.6146,27.75 L0,27.75 L0,23.2008 L19.0655,23.2008 L-2.65934,1.47581 L0.876163,-2.05971 L22.7677,19.832 z"
                      RenderTransformOrigin="0.486085,0.484947" Stretch="Fill" Height="27" Width="27">
                    <Path.RenderTransform>
                        <CompositeTransform Rotation="-45" />
                    </Path.RenderTransform>
                </Path>
            </Button>
            <Border x:Name="HintPanel" Background="{StaticResource PrincBrush}" Grid.ColumnSpan="2"
                    VerticalAlignment="Top" HorizontalAlignment="Center" Margin="28.5,363,28.5,0" IsHitTestVisible="False" Grid.Row="1"
                    Opacity="0">
                <StackPanel Margin="6" VerticalAlignment="Top">

                    <TextBlock TextWrapping="Wrap" TextAlignment="Center" Visibility="Collapsed" FontSize="21.333"
                               FontFamily="Segoe WP Light" Text="dfdfdsfds es fdsfds" />

                    <TextBlock x:Name="HintInfoTitle" TextWrapping="Wrap" TextAlignment="Center" Visibility="Collapsed"
                               FontSize="21.333" FontFamily="Segoe WP Light" />
                    <TextBlock x:Name="HintInfo"
                               Text="{Binding LocalizedResources.TutoCameraPressToCapture, Source={StaticResource LocalizedStrings}}"
                               FontSize="18.667" TextWrapping="Wrap" TextAlignment="Center" VerticalAlignment="Top" />
                </StackPanel>
            </Border>
            <Grid x:Name="Hand" Grid.Row="1" Width="87" Height="215" HorizontalAlignment="Left" VerticalAlignment="Top"
                  Margin="0,90,0,0" RenderTransformOrigin="0.5,0.5" Grid.ColumnSpan="2" IsHitTestVisible="False">
                <Grid.RenderTransform>
                    <CompositeTransform TranslateX="-140" />
                </Grid.RenderTransform>
                <Ellipse x:Name="ellipse" Height="40" Width="40" VerticalAlignment="Top" HorizontalAlignment="Left"
                         StrokeThickness="4" Stroke="#FF7E8083" Margin="4,-16,0,0" Opacity="0" />
                <Ellipse x:Name="ellipse1" Height="70" Width="70" VerticalAlignment="Top" HorizontalAlignment="Left"
                         StrokeThickness="4" Stroke="#FF7E8083" Margin="-11,-32,0,0" Opacity="0" />
                <Path
                    Data="F1 M21.3533,128.877 L4.31588,93.1896 L0.829253,75.7106 L1.73389,57.4449 L1,48.5 L1.28157,41.7887 L3.25,39.5 L9.5,45.5 L10.8745,14.5437 L13.0419,3.41522 L16.2081,1.7268 L18.7713,2.64782 L21,6.25 L21.75,31.5 C21.75,31.5 29.75,27.5 33.25,38 C33.25,38 41.5,35 44.75,48 C44.75,48 50.3882,47.5002 54.3882,57.2502 L57.6382,68.0002 L55.3526,98.1397 L53.25,107.5 L53.75,115.75 L52.111,120.358 C52.111,120.358 36.8294,135.357 21.5794,129.107"
                    Fill="White" Canvas.Left="1.496" Canvas.Top="1.209" Stretch="Fill" UseLayoutRounding="False"
                    Margin="1.375,2.812,1.429,2.237" />
                <Path
                    Data="F1M57.668,86.152C57.593,87.094 57.532,87.852 57.499,88.362 57.297,91.489 56.684,101.004 54.744,105.488 52.576,110.504 53.973,116.892 54.033,117.162L54.082,117.336C54.473,118.433 54.334,119.701 53.684,121.002 52.674,123.024 49.477,126.885 39.424,130.027 27.363,133.796 23.813,130.21 23.571,129.945 22.501,128.156 2.534,94.533 3.163,78.813 3.248,72.753 3.517,56.616 3.736,54.759 3.917,53.22 3.668,51.121 3.404,48.898 3.152,46.774 2.684,42.82 3.239,42.182 3.239,42.182 3.34,42.165 3.584,42.235L3.872,42.287C4.029,42.303 7.645,42.76 9.39,48.961 9.341,52.041 9.295,55.296 9.252,58.739 9.216,61.621 9.19,63.748 9.164,64.753 9.01,70.607 7.029,74.378 7.009,74.415L8.33,75.126 9.648,75.839C9.744,75.664 11.989,71.449 12.163,64.832 12.189,63.82 12.216,61.678 12.252,58.777 12.295,55.271 12.344,51.944 12.397,48.776L12.451,48.762C12.436,48.699 12.416,48.645 12.399,48.583 12.853,21.462 13.639,6.737 14.735,4.804 15.653,3.458 17.142,2.762 18.445,3.07 19.575,3.338 20.308,4.316 20.509,5.824 20.715,7.368 20.973,12.727 21.272,18.933 22.148,37.141 22.99,52.51 24.434,56.175L27.225,55.076C26.313,52.759 25.572,42.993 25.004,33.098 26.558,32.783 27.918,32.993 29.145,33.736 31.895,35.401 33.598,39.614 34.275,43.003 34.963,46.442 35.744,55.618 35.752,55.71L38.74,55.457C38.709,55.073 37.938,46.019 37.217,42.415 37.129,41.974 36.973,41.29 36.74,40.474 42.55,40.351 44.002,46.195 44.155,46.902 44.795,49.845 49.033,61.363 49.213,61.852L52.029,60.815C51.117,58.341 49.668,54.32 48.563,51.048 52.016,51.549 53.871,55.104 55.842,59.615 56.388,60.863 56.902,62.042 57.457,62.974 59.279,66.044 58.066,81.179 57.668,86.152 M60.035,61.443C59.577,60.67 59.098,59.574 58.592,58.414 56.728,54.149 53.976,47.852 47.563,47.979 47.34,47.253 47.172,46.658 47.087,46.265 46.293,42.612 42.997,36.794 35.702,37.549 34.689,35.187 33.109,32.63 30.699,31.17 28.937,30.103 26.968,29.75 24.836,30.09 24.618,26.052 24.428,22.116 24.268,18.789 23.954,12.256 23.706,7.097 23.483,5.427 23.117,2.682 21.492,0.71 19.138,0.151 16.638,-0.443 13.87,0.748 12.257,3.113 10.829,5.208 10.006,16.593 9.503,42.534 7.358,39.936 4.974,39.412 4.284,39.316 2.841,38.943 1.907,39.401 1.37,39.858 -0.499,41.449 -0.071,45.065 0.425,49.251 0.657,51.203 0.896,53.222 0.756,54.408 0.475,56.798 0.175,77.875 0.164,78.732 -0.513,95.654 20.165,130.109 21.045,131.568L21.102,131.654C21.401,132.08 23.531,134.754 29.796,134.754 32.482,134.754 35.93,134.261 40.318,132.89 50.875,129.591 54.873,125.334 56.367,122.343 57.358,120.361 57.563,118.267 56.945,116.433 56.807,115.754 55.832,110.533 57.498,106.679 59.422,102.23 60.129,94.205 60.493,88.555 60.525,88.056 60.584,87.314 60.658,86.392 61.535,75.455 62.065,64.861 60.035,61.443"
                    Fill="#FF7E8083" Canvas.Left="0" Canvas.Top="0" Stretch="Fill" />
            </Grid>
        </Grid>
        <Grid x:Name="TutoWelcomePanel" Background="#50000000" Visibility="Collapsed">
            <Border x:Name="border" Background="{StaticResource PrincBrush}" VerticalAlignment="Top"
                    HorizontalAlignment="Left" Margin="12,140,0,0" RenderTransformOrigin="0.5,0.5">
                <Border.RenderTransform>
                    <CompositeTransform TranslateX="-800" />
                </Border.RenderTransform>
                <TextBlock Text="{Binding LocalizedResources.TutoMessage1, Source={StaticResource LocalizedStrings}}"
                           FontSize="34.667" Margin="3" FontFamily="Segoe WP SemiLight" />
            </Border>
            <Border x:Name="border1" Background="{StaticResource PrincBrush}" VerticalAlignment="Top"
                    HorizontalAlignment="Left" Margin="12,230,0,0" RenderTransformOrigin="0.5,0.5">
                <Border.RenderTransform>
                    <CompositeTransform TranslateX="-800" />
                </Border.RenderTransform>
                <TextBlock Text="{Binding LocalizedResources.TutoMessage2, Source={StaticResource LocalizedStrings}}"
                           FontSize="34.667" Margin="3" FontFamily="Segoe WP SemiLight" />
            </Border>
        </Grid>

        <Grid x:Name="EncodingPanel" Background="Black"
				   Grid.RowSpan="3"
				   Visibility="Collapsed">
            <StackPanel VerticalAlignment="Center" >
                <TextBlock Text="{Binding  LocalizedResources.EncodingInProgress,Source={StaticResource LocalizedStrings}}"
                           Foreground="White" HorizontalAlignment="Center"/>
                <ProgressBar x:Name="EncodingProgress" Maximum="100"  Foreground="{StaticResource PrincBrush}" Margin="12,4,12,0"/>
            </StackPanel>
            <Grid x:Name="EncodingPanelAd" VerticalAlignment="Bottom"/>

        </Grid>
    </Grid>
</phone:PhoneApplicationPage>